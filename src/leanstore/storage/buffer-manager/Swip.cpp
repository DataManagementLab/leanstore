#include "Swip.hpp"
// -------------------------------------------------------------------------------------
namespace leanstore {
// -------------------------------------------------------------------------------------
Swip::Swip(u64 pid)
        : swizzle_value(pid | unswizzle_bit)
{
}
// -------------------------------------------------------------------------------------
bool Swip::isSwizzled()
{
   return (swizzle_value & unswizzle_mask);
}
// -------------------------------------------------------------------------------------
u64 Swip::asInteger() { return swizzle_value; }
// -------------------------------------------------------------------------------------
u64 Swip::asPageID() { return swizzle_value & unswizzle_mask; }
// -------------------------------------------------------------------------------------
void Swip::swizzle(BufferFrame *bf)
{
   swizzle_value = u64(bf);
}
// -------------------------------------------------------------------------------------
BufferFrame &Swip::getBufferFrame()
{
   return *reinterpret_cast<BufferFrame *>(swizzle_value);
}
// -------------------------------------------------------------------------------------
}
// -------------------------------------------------------------------------------------